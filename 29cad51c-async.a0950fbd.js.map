{"version":3,"sources":["docs/manual/custom-extension/behavior.zh.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/G6/G6/packages/site/docs/manual/custom-extension/behavior.zh.md?watch=parent';\n  export const texts = [{\"value\":\"交互的执行逻辑通常为：1. 监听用户交互事件 2. 根据事件更新画布或执行其他操作。例如 \",\"paraId\":0,\"tocIndex\":0},{\"value\":\"DragCanvas\",\"paraId\":0,\"tocIndex\":0},{\"value\":\" 交互监听指针拖拽事件，根据拖拽的距离更新相机的位置。\",\"paraId\":0,\"tocIndex\":0},{\"value\":\"交互和插件的基类都是由 G6 内部的 \",\"paraId\":1,\"tocIndex\":0},{\"value\":\"BaseExtension\",\"paraId\":1,\"tocIndex\":0},{\"value\":\" 基类派生而来，因此交互和插件的实现方式基本相同，但基于可视化的概念区分，交互通常用于处理用户交互事件，而插件通常用于处理画布的渲染逻辑、额外组件渲染等。\",\"paraId\":1,\"tocIndex\":0},{\"value\":\"一个交互的实现相当灵活，你可以以你喜欢的风格实现你的交互。\",\"paraId\":2,\"tocIndex\":1},{\"value\":\"下面是一个简单的自定义交互实现，当用户点击画布时，会在画布上添加一个节点：\",\"paraId\":3,\"tocIndex\":1},{\"value\":\"import { BaseBehavior, CanvasEvent } from '@antv/g6';\\nimport type { BaseBehaviorOptions, RuntimeContext, IPointerEvent } from '@antv/g6';\\n\\ninterface ClickAddNodeOptions extends BaseBehaviorOptions {}\\n\\nclass ClickAddNode extends BaseBehavior<ClickAddNodeOptions> {\\n  constructor(context: RuntimeContext, options: ClickAddNodeOptions) {\\n    super(context, options);\\n\\n    const { graph } = this.context;\\n    graph.on(CanvasEvent.CLICK, (event: IPointerEvent) => {\\n      const { layerX, layerY } = event.nativeEvent as PointerEvent;\\n      graph.addNodeData([\\n        {\\n          id: 'node-' + Date.now(),\\n          style: { x: layerX, y: layerY },\\n        },\\n      ]);\\n      graph.draw();\\n    });\\n  }\\n}\\n\",\"paraId\":4,\"tocIndex\":1},{\"value\":\"在示例代码中，我们基于 \",\"paraId\":5,\"tocIndex\":1},{\"value\":\"BaseBehavior\",\"paraId\":5,\"tocIndex\":1},{\"value\":\" 实现了一个 \",\"paraId\":5,\"tocIndex\":1},{\"value\":\"ClickAddNode\",\"paraId\":5,\"tocIndex\":1},{\"value\":\" 交互，该交互在构造函数中添加了 Graph 的事件监听，当用户点击画布时，会在点击位置添加一个节点。\",\"paraId\":5,\"tocIndex\":1},{\"value\":\"点击下面画布中的空白位置以添加一个节点\",\"paraId\":6,\"tocIndex\":1},{\"value\":\"(async () => {\\n  const { BaseBehavior, CanvasEvent, register, ExtensionCategory, Graph } = window.g6;\\n\\n  class ClickAddNode extends BaseBehavior {\\n    constructor(context, options) {\\n      super(context, options);\\n\\n      const { graph } = this.context;\\n      graph.on(CanvasEvent.CLICK, (event) => {\\n        const { layerX, layerY } = event.nativeEvent;\\n        graph.addNodeData([\\n          {\\n            id: 'node-' + Date.now(),\\n            style: { x: layerX, y: layerY },\\n          },\\n        ]);\\n        graph.draw();\\n      });\\n    }\\n  }\\n\\n  register(ExtensionCategory.BEHAVIOR, 'click-add-node', ClickAddNode);\\n\\n  const container = createContainer({ width: 300, height: 300 });\\n  container.style.border = '1px solid #ccc';\\n\\n  const graph = new Graph({\\n    container,\\n    width: 300,\\n    height: 300,\\n    data: {\\n      nodes: [],\\n    },\\n    behaviors: ['click-add-node'],\\n  });\\n\\n  await graph.render();\\n\\n  return container;\\n})();\\n\",\"paraId\":7,\"tocIndex\":1},{\"value\":\"上述示例是一个最简单的交互实现，实际开发过程中，你还需要处理监听事件的销毁、交互的启用与禁用等逻辑。\",\"paraId\":8},{\"value\":\"此外，多个交互之间可能会有事件冲突，你需要小心处理这些冲突。\",\"paraId\":9},{\"value\":\"通过 G6 提供的 register 方法注册即可，详见\",\"paraId\":10,\"tocIndex\":2},{\"value\":\"注册交互\",\"paraId\":11,\"tocIndex\":2},{\"value\":\"可在 \",\"paraId\":12,\"tocIndex\":3},{\"value\":\"behaviors\",\"paraId\":12,\"tocIndex\":3},{\"value\":\" 中传入交互类型名称或配置参数对象，详见\",\"paraId\":12,\"tocIndex\":3},{\"value\":\"配置交互\",\"paraId\":13,\"tocIndex\":3}];\n  "],"names":[],"mappings":"+PAEe,6CAAA,QADN,YACA,IAAM,EAAQ,CAAC,CAAC,MAAQ,yOAAgD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,aAAa,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,gKAA8B,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,4FAAsB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,gBAAgB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,4cAAgF,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,iLAAgC,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,iOAAwC,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,otBAAotB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,sEAAe,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAe,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,mCAAU,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAe,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,6QAAsD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,qHAAsB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,k9BAAk9B,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,+SAAqD,OAAS,CAAC,EAAE,CAAC,MAAQ,uLAAiC,OAAS,CAAC,EAAE,CAAC,MAAQ,qGAA+B,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,2BAAO,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,gBAAM,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,YAAY,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,sHAAuB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,2BAAO,OAAS,GAAG,SAAW,CAAC,EAAE"}