{"version":3,"sources":["docs/manual/core-concept/animation.zh.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/G6/G6/packages/site/docs/manual/core-concept/animation.zh.md?watch=parent';\n  export const texts = [{\"value\":\"动画是指元素在一段时间内的状态变化，例如节点的位置、大小、颜色等。在 G6 中，动画通常用于增强用户体验，提升图更新过程的连贯性和流畅度。\",\"paraId\":0,\"tocIndex\":0},{\"value\":\"G6 提供了一套动画范式来描述元素动画，并内置了一些常用的动画效果，用户可以通过配置动画参数来实现不同的动画效果。\",\"paraId\":1,\"tocIndex\":0},{\"value\":\"一个动画范式的实现如下：\",\"paraId\":2,\"tocIndex\":0},{\"value\":\"[\\n  {\\n    fields: ['x', 'y'],\\n  },\\n];\\n\",\"paraId\":3,\"tocIndex\":0},{\"value\":\"上述动画范式表示当元素的 \",\"paraId\":4,\"tocIndex\":0},{\"value\":\"x\",\"paraId\":4,\"tocIndex\":0},{\"value\":\" 和 \",\"paraId\":4,\"tocIndex\":0},{\"value\":\"y\",\"paraId\":4,\"tocIndex\":0},{\"value\":\" 属性发生变化时，会执行动画。\",\"paraId\":4,\"tocIndex\":0},{\"value\":\"G6 中动画配置分为全局配置和局部配置，全局配置主要用于配置全局是否开启动画、动画时长等参数，局部配置主要用于配置元素的动画效果。\",\"paraId\":5,\"tocIndex\":1},{\"value\":\"若要关闭全局动画，可以在实例化 \",\"paraId\":6,\"tocIndex\":2},{\"value\":\"Graph\",\"paraId\":6,\"tocIndex\":2},{\"value\":\" 时传入 \",\"paraId\":6,\"tocIndex\":2},{\"value\":\"animation\",\"paraId\":6,\"tocIndex\":2},{\"value\":\" 配置项：\",\"paraId\":6,\"tocIndex\":2},{\"value\":\"{\\n  animation: false,\\n}\\n\",\"paraId\":7,\"tocIndex\":2},{\"value\":\"如果要启用动画且同时配置动画的默认播放时长，可以传入 \",\"paraId\":8,\"tocIndex\":3},{\"value\":\"animation\",\"paraId\":8,\"tocIndex\":3},{\"value\":\" 配置项：\",\"paraId\":8,\"tocIndex\":3},{\"value\":\"{\\n  animation: {\\n    duration: 500,\\n  },\\n}\\n\",\"paraId\":9,\"tocIndex\":3},{\"value\":\"对于单个元素，可以配置其在不同阶段的动画。例如希望元素在进场和退场时具有淡入淡出效果，可以以如下方式配置：\",\"paraId\":10,\"tocIndex\":4},{\"value\":\"{\\n  node: {\\n    animation: {\\n      enter: 'fade',\\n      exit: 'fade'\\n    }\\n  }\\n}\\n\",\"paraId\":11,\"tocIndex\":4},{\"value\":\"如果希望更新元素位置时是以平移过渡的方式，可以配置如下：\",\"paraId\":12,\"tocIndex\":4},{\"value\":\"{\\n  node: {\\n    animation: {\\n      update: 'translate',\\n    }\\n  }\\n}\\n\",\"paraId\":13,\"tocIndex\":4},{\"value\":\"如果希望关闭元素的动画，可以配置如下：\",\"paraId\":14,\"tocIndex\":4},{\"value\":\"{\\n  node: {\\n    animation: false,\\n  }\\n}\\n\",\"paraId\":15,\"tocIndex\":4},{\"value\":\"上一节中提到的动画配置实际上使用了内置的动画范式，本节介绍如何自定义动画范式。\",\"paraId\":16,\"tocIndex\":5},{\"value\":\"在编写动画范式之前需要了解元素的组成结构，具体请参考\",\"paraId\":17},{\"value\":\"元素\",\"paraId\":18},{\"value\":\"一节\",\"paraId\":17},{\"value\":\"元素\",\"paraId\":19},{\"value\":\"一节中提到：G6 中的元素是由一个或多个原子图形组合而成。因此元素的动画本质上是这些原子图形动画的组合。\",\"paraId\":20},{\"value\":\"因此动画范式是一个数组，用于描述元素中各原子图形的动画效果。对于元素本身来说，其也是一个特殊的复合图形，因此具有基本的图形属性，如 \",\"paraId\":21},{\"value\":\"x\",\"paraId\":21},{\"value\":\"、\",\"paraId\":21},{\"value\":\"y\",\"paraId\":21},{\"value\":\" 等。\",\"paraId\":21},{\"value\":\"因此可以直接为元素本身编写动画范式：\",\"paraId\":22},{\"value\":\"[\\n  {\\n    fields: ['x', 'y'],\\n  },\\n];\\n\",\"paraId\":23},{\"value\":\"如果内置动画无法满足需求，可以自定义动画，具体请参考\",\"paraId\":24,\"tocIndex\":6},{\"value\":\"自定义动画\",\"paraId\":25,\"tocIndex\":6},{\"value\":\"。\",\"paraId\":24,\"tocIndex\":6},{\"value\":\"动画优先级是指全局动画配置和元素动画配置之前的优先级，可以归纳如下：\",\"paraId\":26,\"tocIndex\":7},{\"value\":\"全局动画配置\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"局部动画配置\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"是否执行动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ true\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ true\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 执行动画，以默认动画配置执行\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ true\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ false\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ 不执行该类元素动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ true\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 配置动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 执行动画，以局部动画配置执行\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ false\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ true\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ 不执行任何动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ false\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ false\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ 不执行任何动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ false\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 配置动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ 不执行任何动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 配置动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ true\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 执行动画，以全局动画配置执行\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 配置动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 配置动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 执行动画，将局部动画配置覆盖全局动画配置后执行\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"✅ 配置动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ false\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"❌ 不执行该类元素动画\",\"paraId\":27,\"tocIndex\":7},{\"value\":\"如果希望元素具有持续动画，例如节点的波动效果、边的蚂蚁线效果等，可以通过自定义元素方式实现，下面提供一个具有蚂蚁线(Ant Line)动画的边的实现：\",\"paraId\":28,\"tocIndex\":8},{\"value\":\"import { Line } from '@antv/g6';\\n\\nclass AntLine extends Line {\\n  onCreate() {\\n    this.shapeMap.key.animate([{ lineDashOffset: -20 }, { lineDashOffset: 0 }], {\\n      duration: 500,\\n      iterations: Infinity,\\n    });\\n  }\\n}\\n\",\"paraId\":29,\"tocIndex\":8},{\"value\":\"其中 \",\"paraId\":30,\"tocIndex\":8},{\"value\":\"onCreate\",\"paraId\":30,\"tocIndex\":8},{\"value\":\" 是一个生命周期钩子，用于在元素创建时执行动画。\",\"paraId\":30,\"tocIndex\":8},{\"value\":\"在 options 中配置边样式：\",\"paraId\":31,\"tocIndex\":8},{\"value\":\"{\\n  edge: {\\n    type: 'ant-line',\\n    style:{\\n      lineDash: [10, 10]\\n    }\\n  }\\n}\\n\",\"paraId\":32,\"tocIndex\":8},{\"value\":\"(() => {\\n  const { register, Line, Graph } = window.g6;\\n\\n  class AntLine extends Line {\\n    onCreate() {\\n      this.shapeMap.key.animate([{ lineDashOffset: 20 }, { lineDashOffset: 0 }], {\\n        duration: 500,\\n        iterations: Infinity,\\n      });\\n    }\\n  }\\n\\n  register('edge', 'ant-line', AntLine);\\n\\n  const container = createContainer({ width: 200, height: 50 });\\n\\n  const graph = new Graph({\\n    container,\\n    width: 200,\\n    height: 50,\\n    data: {\\n      nodes: [\\n        { id: 'node-1', style: { x: 25, y: 25 } },\\n        { id: 'node-2', style: { x: 175, y: 25 } },\\n      ],\\n      edges: [{ source: 'node-1', target: 'node-2', style: { lineDash: [10, 10] } }],\\n    },\\n    edge: {\\n      type: 'ant-line',\\n    },\\n  });\\n\\n  graph.draw();\\n\\n  return container;\\n})();\\n\",\"paraId\":33,\"tocIndex\":8},{\"value\":\"其中 \",\"paraId\":34,\"tocIndex\":8},{\"value\":\"lineDash\",\"paraId\":34,\"tocIndex\":8},{\"value\":\" 是 \",\"paraId\":34,\"tocIndex\":8},{\"value\":\"lineDashOffset\",\"paraId\":34,\"tocIndex\":8},{\"value\":\" 的数组，通过不断变化 \",\"paraId\":34,\"tocIndex\":8},{\"value\":\"lineDashOffset\",\"paraId\":34,\"tocIndex\":8},{\"value\":\" 来实现飞线效果。\",\"paraId\":34,\"tocIndex\":8},{\"value\":\"同样的，还可以实现节点的呼吸效果：\",\"paraId\":35,\"tocIndex\":8},{\"value\":\"import { Circle } from '@antv/g6';\\n\\nclass BreathingCircle extends Circle {\\n  onCreate() {}\\n}\\n\",\"paraId\":36,\"tocIndex\":8},{\"value\":\"其中 \",\"paraId\":37,\"tocIndex\":8},{\"value\":\"lineDashOffset\",\"paraId\":37,\"tocIndex\":8},{\"value\":\" 是 \",\"paraId\":37,\"tocIndex\":8},{\"value\":\"lineDash\",\"paraId\":37,\"tocIndex\":8},{\"value\":\" 的偏移量，通过不断变化 \",\"paraId\":37,\"tocIndex\":8},{\"value\":\"lineDashOffset\",\"paraId\":37,\"tocIndex\":8},{\"value\":\" 来实现飞线效果。\",\"paraId\":37,\"tocIndex\":8},{\"value\":\"同样的，还可以实现节点的呼吸效果：\",\"paraId\":38,\"tocIndex\":8},{\"value\":\"import { Circle } from '@antv/g6';\\n\\nclass BreathingCircle extends Circle {\\n  onCreate() {\\n    this.shapeMap.halo.animate([{ lineWidth: 5 }, { lineWidth: 10 }], {\\n      duration: 1000,\\n      iterations: Infinity,\\n      direction: 'alternate',\\n    });\\n  }\\n}\\n\",\"paraId\":39,\"tocIndex\":8},{\"value\":\"节点样式配置：\",\"paraId\":40,\"tocIndex\":8},{\"value\":\"{\\n  node: {\\n    type: 'breathing-circle',\\n    style: {\\n      halo: true,\\n      haloLineWidth: 5,\\n    },\\n  },\\n}\\n\",\"paraId\":41,\"tocIndex\":8},{\"value\":\"(() => {\\n  const { register, Circle, Graph } = window.g6;\\n\\n  class BreathingCircle extends Circle {\\n    onCreate() {\\n      this.shapeMap.halo.animate([{ lineWidth: 5 }, { lineWidth: 10 }], {\\n        duration: 1000,\\n        iterations: Infinity,\\n        direction: 'alternate',\\n      });\\n    }\\n  }\\n\\n  register('node', 'breathing-circle', BreathingCircle);\\n\\n  const container = createContainer({ width: 50, height: 50 });\\n\\n  const graph = new Graph({\\n    container,\\n    width: 50,\\n    height: 50,\\n    data: {\\n      nodes: [{ id: 'node-1', style: { x: 25, y: 25 } }],\\n    },\\n    node: {\\n      type: 'breathing-circle',\\n      style: {\\n        halo: true,\\n        haloLineWidth: 5,\\n      },\\n    },\\n  });\\n\\n  graph.draw();\\n\\n  return container;\\n})();\\n\",\"paraId\":42,\"tocIndex\":8}];\n  "],"names":[],"mappings":"6PAEe,6CAAA,QADN,YACA,IAAM,EAAQ,CAAC,CAAC,MAAQ,6YAAwE,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,0UAA4D,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,2EAAe,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,8CAA8C,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,4EAAgB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,IAAI,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,WAAM,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,IAAI,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,wFAAkB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,0XAAoE,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,8FAAmB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,QAAQ,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,uBAAQ,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,YAAY,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,4BAAQ,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,8BAA8B,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,gKAA8B,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,YAAY,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,4BAAQ,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,mDAAmD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,iUAAwD,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,4FAA4F,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,2KAA+B,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,8EAA8E,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,qHAAsB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,gDAAgD,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,6OAA0C,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,+JAA6B,OAAS,EAAE,EAAE,CAAC,MAAQ,eAAK,OAAS,EAAE,EAAE,CAAC,MAAQ,eAAK,OAAS,EAAE,EAAE,CAAC,MAAQ,eAAK,OAAS,EAAE,EAAE,CAAC,MAAQ,4SAAuD,OAAS,EAAE,EAAE,CAAC,MAAQ,0YAAqE,OAAS,EAAE,EAAE,CAAC,MAAQ,IAAI,OAAS,EAAE,EAAE,CAAC,MAAQ,SAAI,OAAS,EAAE,EAAE,CAAC,MAAQ,IAAI,OAAS,EAAE,EAAE,CAAC,MAAQ,gBAAM,OAAS,EAAE,EAAE,CAAC,MAAQ,+GAAqB,OAAS,EAAE,EAAE,CAAC,MAAQ,8CAA8C,OAAS,EAAE,EAAE,CAAC,MAAQ,+JAA6B,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,iCAAQ,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,SAAI,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,+MAAqC,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,uCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,uCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,uCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,cAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,cAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,8FAAmB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,cAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAU,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,gEAAc,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,cAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,kCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,8FAAmB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAU,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,cAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,oDAAY,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAU,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAU,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,oDAAY,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAU,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,kCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,oDAAY,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,kCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,cAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,8FAAmB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,kCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,kCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,oJAA4B,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,kCAAS,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAU,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,gEAAc,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,mZAA8E,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,4OAA4O,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,gBAAM,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,WAAW,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,8IAA2B,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,4DAAoB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,8FAA8F,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,yyBAAyyB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,gBAAM,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,WAAW,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,WAAM,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,iBAAiB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,iEAAe,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,iBAAiB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,oDAAY,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,yGAAoB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,qGAAqG,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,gBAAM,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,iBAAiB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,WAAM,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,WAAW,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,uEAAgB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,iBAAiB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,oDAAY,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,yGAAoB,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,8QAA8Q,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,6CAAU,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,2HAA2H,OAAS,GAAG,SAAW,CAAC,EAAE,CAAC,MAAQ,+wBAA+wB,OAAS,GAAG,SAAW,CAAC,EAAE"}